# ๐ Web Traffic Analysis & Bot Detection Project

ิฑีตีฝ ีถีกีญีกีฃีซีฎีจ ีถีกีญีกีฟีฅีฝีพีกีฎ ีง ีพีฅีข ีฏีกีตึีซ ีกีตึีฅีฌีธึีฉีตีธึีถีถีฅึีซ ีฟีพีตีกีฌีถีฅึีซ ีพีฅึีฌีธึีฎีธึีฉีตีกีถ, ีพีซีฆีธึีกีฌีซีฆีกึีซีกีตีซ ึ ีขีธีฟีฅึีซ ีฐีกีตีฟีถีกีขีฅึีดีกีถ (Bot Detection) ีฐีกีดีกึึ ิฑีตีถ ึีฃีฟีกีฃีธึีฎีธึีด ีง Machine Learning (Random Forest) ีดีธีคีฅีฌี ีกีตึีฅีฌีธึีถีฅึีซีถ ีคีกีฝีกีฏีกึีฃีฅีฌีธึ ีธึีบีฅีฝ ยซีซึีกีฏีกีถ ึีฃีฟีกีฟีฅึยป ีฏีกีด ยซีขีธีฟยปึ

## ๐ ีีซีดีถีกีฏีกีถ ีีถีกึีกีพีธึีธึีฉีตีธึีถีถีฅึีจ

### ๐ฅ ีีพีตีกีฌีถีฅึีซ ีีทีกีฏีธึีด (Data Processing)
- **ิฒีกึีกีฏีกีตีธีฒ ีฟีพีตีกีฌีถีฅึีซ ีฌึีกึีธึีด** - ิฑีพีฟีธีดีกีฟ ีฌึีกึีธึีด ีกีถีฐีกีตีฟ ีกึีชีฅึีถีฅึีธีพ
- **Feature Engineering:**
  - IP ีฐีกีฝึีฅีซ ีพีซีณีกีฏีกีฃึีธึีฉีตีธึีถ (ีกีตึีฅีฌีธึีฉีตีธึีถีถีฅึีซ ึีกีถีกีฏ, ีฅีฆีกีฏีซ ีงีปีฅึ)
  - ิบีกีดีกีถีกีฏีกีตีซีถ ีฐีกีฟีฏีกีถีซีทีถีฅึ (ีชีกีด, ีทีกีขีกีฉีพีก ึึ, ึีซีฏีฌีซีฏ ีฟึีกีถีฝึีธึีดีกึีซีกีถีฅึ)
  - User Agent ีพีฅึีฌีธึีฎีธึีฉีตีธึีถ (ีขีธีฟีฅึีซ ีฐีกีตีฟีถีกีขีฅึีธึีด)
  - IP-ีซ ีพีฅึีปีซีถ ีกีตึีฅีฌีธึีฉีตีกีถ ีชีกีดีกีถีกีฏีจ
- **ิฟีกีฟีฅีฃีธึีซีฏ ีฟีพีตีกีฌีถีฅึีซ ีฏีธีคีกีพีธึีธึีด** - Label Encoding ีขีธีฌีธึ ีฏีกีฟีฅีฃีธึีซีฏ ีฝีตีธึีถีฅึีซ ีฐีกีดีกึ

### ๐ ีีซีฆีธึีกีฌีซีฆีกึีซีก (Visualization)
ิพึีกีฃีซึีจ ีฝีฟีฅีฒีฎีธึีด ีง ีฐีฅีฟึีตีกีฌ ีพีซีฆีธึีกีฌีซีฆีกึีซีกีถีฅึีจ:
- ินีธึ 10 ีขึีกีธึีฆีฅึีถีฅึ
- ีีกึึีฅึีซ ีขีกีทีญีธึีด (PC, Mobile, Tablet)
- ินีธึ 10 ีงีปีฅึ ึ ีผีฅึีฅึีกีฌีถีฅึ
- ิบีกีดีกีตีซีถ ึ ีทีกีขีกีฉีกีฏีกีถ ีกีฏีฟีซีพีธึีฉีตีธึีถ
- ีึีกีฏีกีถ ีกีตึีฅีฌีธึีฉีตีธึีถีถีฅึีซ ีฟีฅีถีคีฅีถึ
- ิดีกีฝีฅึีซ ีกีถีฐีกีพีกีฝีกึีกีฏีทีผีธึีฉีตีธึีถ (Class Imbalance)
- ีีกีฟีฏีกีถีซีทีถีฅึีซ ีฏีกีบีฅึ (Features Pairplot)
- **Confusion Matrix** - ีีธีคีฅีฌีซ ีฏีกีถีญีกีฟีฅีฝีธึีดีถีฅึีซ ีณีทีฃึีฟีธึีฉีตีธึีถ
- **Feature Importance** - ิฑีดีฅีถีกีฏีกึึีธึ ีฐีกีฟีฏีกีถีซีทีถีฅึีจ

ิฒีธีฌีธึ ีฃึีกึีซีฏีถีฅึีจ ีบีกีฐีบีกีถีพีธึีด ีฅีถ `materials/` ีบีกีถีกีฏีธึีด PNG ึีธึีดีกีฟีธีพึ

### ๐ค ีีธีคีฅีฌีซ ีึีฝีธึึีธึีด (Model Training)
- **RandomForestClassifier** - 200 ีฎีกีผีฅึีธีพ, ึีบีฟีซีดีกีฌีกึีพีกีฎ ีฐีซีบีฅึีบีกึีกีดีฅีฟึีฅึีธีพ
- **StandardScaler** - ีีพีตีกีฌีถีฅึีซ ีฝีฟีกีถีคีกึีฟีกึีธึีด
- **Class Balancing** - ิฑีถีฐีกีพีกีฝีกึีกีฏีทีผีพีกีฎ ีคีกีฝีฅึีซ ีฐีกีทีพีกีผีธึีด
- ีีธีคีฅีฌีซ, ีฝีฏีกีฌีฅึีซ ึ ีงีถีฏีธีคีฅึีถีฅึีซ ีบีกีฐีบีกีถีธึีด `.pkl` ึีธึีดีกีฟีธีพ

### ๐ฎ ิฟีกีถีญีกีฟีฅีฝีธึีดีถีฅึ (Predictions)
- ีีธึ ีฟีพีตีกีฌีถีฅึีซ ีดีทีกีฏีธึีด ึ ีฏีกีถีญีกีฟีฅีฝีธึีด
- ิฒีธีฟ ีฌีซีถีฅีฌีธึ ีฐีกีพีกีถีกีฏีกีถีธึีฉีตีกีถ ีฐีกีทีพีกึีฏ
- ิฑึีคีตีธึีถึีถีฅึีซ ีบีกีฐีบีกีถีธึีด CSV ึีธึีดีกีฟีธีพ

## ๐ ีีกีตีฌีกีตีซีถ ิฟีกีผีธึึีพีกีฎึีจ

```
ML-Project/
โโโ data/
โ   โโโ visits.csv              # ีีธึีฟึีกีตีซีถ ีฟีพีตีกีฌีถีฅึ (ีธึีฝีธึึีดีกีถ)
โ   โโโ new_data.csv            # ีีธึ ีฟีพีตีกีฌีถีฅึ (ีฏีกีถีญีกีฟีฅีฝีดีกีถ ีฐีกีดีกึ)
โ   โโโ predictions_result.csv  # ิฟีกีถีญีกีฟีฅีฝีธึีดีถีฅึีซ ีกึีคีตีธึีถึีถีฅึ
โโโ materials/                  # ีีซีฆีธึีกีฌีซีฆีกึีซีกีตีซ ีกึีคีตีธึีถึีถีฅึีจ
โ   โโโ top_10_browsers.png
โ   โโโ device_distribution.png
โ   โโโ confusion_matrix.png
โ   โโโ feature_importance.png
โ   โโโ ... (ีกีตีฌ ีฃึีกึีซีฏีถีฅึ)
โโโ models/                     # ีีกีฐีบีกีถีพีกีฎ ีดีธีคีฅีฌีถีฅึีจ
โ   โโโ Encoding/               # LabelEncoder-ีถีฅึีจ (.pkl)
โ   โโโ Random_forest_model.pkl # ีึีฝีธึึีกีถีพีกีฎ ีดีธีคีฅีฌ
โ   โโโ Scaler.pkl              # StandardScaler
โโโ main.py                     # ิณีฌีญีกีพีธึ ึีกีตีฌ (Entry point)
โโโ utils.py                    # ีีซีดีถีกีฏีกีถ ึีธึีถีฏึีซีกีถีฅึ
โโโ processor.py                # ีีธึ ีฟีพีตีกีฌีถีฅึีซ ีดีทีกีฏีธึีด ึ ีฏีกีถีญีกีฟีฅีฝีธึีด
โโโ names.py                    # ีีกีฝีฟีกีฟีธึีถีถีฅึ ึ ีฏีธีถึีซีฃีธึึีกึีซีก
โโโ requirements.txt            # ิฑีถีฐึีกีชีฅีทีฟ ีฃึีกีคีกึีกีถีถีฅึ
```

## ๐๏ธ ีีฅีฒีกีคึีธึีด ึ ิณีธึีฎีกึีฏีธึีด

### 1๏ธโฃ ีีกีญีกีบีกีฟึีกีฝีฟีธึีด

**ีีกีฟีณีฅีถีฅึ ีถีกีญีกีฃีซีฎีจ:**
```bash
git clone <repository-url>
cd ML-Project
```

**ีีฟีฅีฒีฎีฅึ ีพีซึีฟีธึีกีฌ ีดีซีปีกีพีกีตึ:**
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows
```

**ีีฅีฒีกีคึีฅึ ีกีถีฐึีกีชีฅีทีฟ ีฃึีกีคีกึีกีถีถีฅึีจ:**
```bash
pip install -r requirements.txt
```

### 2๏ธโฃ ีีธีคีฅีฌีซ ีึีฝีธึึีธึีด

ิฒีกึีฅึ `main.py` ึีกีตีฌีจ ึ ึีธีญีฅึ ีพีฅึีปีซีถ ีฟีธีฒีจ:

```python
# main.py
train()  # ีึีฝีธึึีกีถีฅีฌ ีดีธีคีฅีฌีจ
```

ิณีธึีฎีกึีฏีฅึ:
```bash
python main.py
```

**ิปีถีน ีฏีกีฟีกึีพีซ:**
1. โ ิฟีดีกึึีพีฅีถ ีถีกีญีธึีค ีกึีฟีซึีกีฏีฟีถีฅึีจ (`materials/` ึ `models/`)
2. โ ิฟีขีฅีผีถีพีฅีถ ีฟีพีตีกีฌีถีฅึีจ `data/visits.csv`-ีซึ
3. โ ิฟีดีทีกีฏีพีฅีถ ึ ีฏีฝีฟีฅีฒีฎีพีฅีถ ีถีธึ ีฐีกีฟีฏีกีถีซีทีถีฅึ
4. โ ิฟีฝีฟีฅีฒีฎีพีฅีถ ีพีซีฆีธึีกีฌีซีฆีกึีซีกีถีฅึ `materials/` ีบีกีถีกีฏีธึีด
5. โ ิฟีธึีฝีธึึีกีถีพีซ Random Forest ีดีธีคีฅีฌีจ
6. โ ิฟีบีกีฐีบีกีถีพีฅีถ ีดีธีคีฅีฌีจ, ีฝีฏีกีฌีฅึีจ ึ ีงีถีฏีธีคีฅึีถีฅึีจ `models/` ีบีกีถีกีฏีธึีด

### 3๏ธโฃ ิฟีกีถีญีกีฟีฅีฝีธึีดีถีฅึ ีีธึ ีีพีตีกีฌีถีฅึีซ ีึีก

**ีีกีญ ีฝีฟีฅีฒีฎีฅึ ีถีธึ ีฟีพีตีกีฌีถีฅึ:**

ิตีฉีฅ ีธึีถีฅึ `visits.csv` ึ ีธึีฆีธึีด ีฅึ ีฝีฟีฅีฒีฎีฅีฌ `new_data.csv` (ีกีผีกีถึ `is_bot` ีฝีตีกีถ):
```python
import pandas as pd
df = pd.read_csv("data/visits.csv")
df.drop(columns=['is_bot']).to_csv("data/new_data.csv", index=False)
```

**ิณีธึีฎีกึีฏีฅึ ีฏีกีถีญีกีฟีฅีฝีธึีดีจ:**

ิฒีกึีฅึ `main.py` ึ ึีธีญีฅึ:
```python
# main.py
predict(names.DATA_NEW_FILE_PATH)  # ิฟีกีถีญีกีฟีฅีฝีฅีฌ new_data.csv-ีซ ีพึีก
```

ิณีธึีฎีกึีฏีฅึ:
```bash
python main.py
```

**ิฑึีคีตีธึีถึ:**
- ิฟีฝีฟีฅีฒีฎีพีซ `data/predictions_result.csv` ึีกีตีฌี ีขีธีฟ/ีธีน ีขีธีฟ ีฏีกีถีญีกีฟีฅีฝีธึีดีถีฅึีธีพ
- ิฟีฟีบีพีซ ีฏีกีถีญีกีฟีฅีฝีธึีดีถีฅึีซ ีกีดึีธึีธึีด ีฟีฅึีดีซีถีกีฌีธึีด

## ๐ ีีฃีฟีกีฃีธึีฎีดีกีถ ีึีซีถีกีฏีถีฅึ

### ีึีซีถีกีฏ 1: ิฑีดีขีธีฒีปีกีฏีกีถ Pipeline (ีึีฝีธึึีธึีด + ิฟีกีถีญีกีฟีฅีฝีธึีด)

```python
# main.py
from utils import *
import processor
import names

# ีีกีตีฌ 1: ีึีฝีธึึีกีถีฅีฌ ีดีธีคีฅีฌีจ
train()

# ีีกีตีฌ 2: ิฟีกีถีญีกีฟีฅีฝีฅีฌ ีถีธึ ีฟีพีตีกีฌีถีฅึีซ ีพึีก
predict(names.DATA_NEW_FILE_PATH)
```

### ีึีซีถีกีฏ 2: ีีซีกีตีถ ิฟีกีถีญีกีฟีฅีฝีธึีด (ิตีฉีฅ ีดีธีคีฅีฌีถ ีกึีคีฅีถ ีธึีฝีธึึีกีถีพีกีฎ ีง)

```python
# main.py
import processor
import names

predict(names.DATA_NEW_FILE_PATH)
```

### ีึีซีถีกีฏ 3: ิฑึีฟีซึีกีฏีฟีถีฅึีซ ีีกึึีธึีด

```python
from utils import clear_artifacts

# ีีฅีผีกึีถีฅีฌ ีขีธีฌีธึ ีฃึีกึีซีฏีถีฅึีจ ึ ีดีธีคีฅีฌีถีฅึีจ
clear_artifacts()
```

### ีึีซีถีกีฏ 4: Processor-ีซ ิฑีถีดีซีปีกีฏีกีถ ีีฃีฟีกีฃีธึีฎีธึีด

```python
import pandas as pd
import processor

# ิฒีฅีผีถีฅีฌ ีถีธึ ีฟีพีตีกีฌีถีฅึ
new_data = pd.read_csv("data/new_data.csv")

# ิฟีกีถีญีกีฟีฅีฝีฅีฌ
results = processor.predict_new_data(new_data)

# ีีฅีฝีถีฅีฌ ีกึีคีตีธึีถึีถีฅึีจ
print(results[['ip_address', 'is_bot_prediction', 'bot_probability']].head())
```

## ๐ง ิฟีธีถึีซีฃีธึึีกึีซีก

ิฒีธีฌีธึ ีฏีกึีฃีกีพีธึีธึีดีถีฅึีจ ีฃีฟีถีพีธึีด ีฅีถ `names.py` ึีกีตีฌีธึีด:

### ีีกีตีฌีฅึีซ ีีกีถีกีบีกึีฐีถีฅึ
```python
DATA_FILE_PATH = "data/visits.csv"           # ีึีฝีธึึีดีกีถ ีฟีพีตีกีฌีถีฅึ
DATA_NEW_FILE_PATH = "data/new_data.csv"     # ีีธึ ีฟีพีตีกีฌีถีฅึ
MODELS_DIR = "models"                        # ีีธีคีฅีฌีถีฅึีซ ีบีกีถีกีฏ
MATERIALS_DIR = "materials"                  # ิณึีกึีซีฏีถีฅึีซ ีบีกีถีกีฏ
```

### ีีธีคีฅีฌีซ ีีซีบีฅึีบีกึีกีดีฅีฟึีฅึ
```python
RANDOM_FOREST_PARAMS = {
    "criterion": "gini",
    "n_estimators": 200,
    "max_depth": 15,
    "max_features": "sqrt",
    "min_samples_leaf": 1,
    "min_samples_split": 2,
    "class_weight": "balanced",
    "random_state": 42,
    "n_jobs": -1,
}
```

## ๐ ิตีฌึีกีตีซีถ ีีพีตีกีฌีถีฅึ

### ีีซีฆีธึีกีฌีซีฆีกึีซีกีถีฅึ (`materials/`)
- `top_10_browsers.png` - ิฑีดีฅีถีกีทีกีฟ ึีฃีฟีกีฃีธึีฎีพีธีฒ ีขึีกีธึีฆีฅึีถีฅึีจ
- `device_distribution.png` - ีีกึึีฅึีซ ีขีกีทีญีธึีด
- `hourly_activity.png` - ิฑีฏีฟีซีพีธึีฉีตีธึีถ ีจีฝีฟ ีชีกีดีฅึีซ
- `confusion_matrix.png` - ีีธีคีฅีฌีซ ีณีทีฃึีฟีธึีฉีตีกีถ ีดีกีฟึีซึีก
- `feature_importance.png` - ิฑีดีฅีถีกีฏีกึึีธึ ีฐีกีฟีฏีกีถีซีทีถีฅึีจ

### ีีธีคีฅีฌีซ ีีกีตีฌีฅึ (`models/`)
- `Random_forest_model.pkl` - ีึีฝีธึึีกีถีพีกีฎ Random Forest ีดีธีคีฅีฌ
- `Scaler.pkl` - StandardScaler ึีขีตีฅีฏีฟ
- `Encoding/*.pkl` - LabelEncoder-ีถีฅึ ีตีธึึีกึีกีถีนีตีธึึ ีฏีกีฟีฅีฃีธึีซีฏ ีฝีตีกีถ ีฐีกีดีกึ

### ิฟีกีถีญีกีฟีฅีฝีธึีดีถีฅึ (`data/`)
- `predictions_result.csv` - ิฟีกีถีญีกีฟีฅีฝีธึีดีถีฅึีซ ีกึีคีตีธึีถึีถีฅึี ีขีธีฟ/ีธีน ีขีธีฟ ึ ีฐีกีพีกีถีกีฏีกีถีธึีฉีตีธึีถ

## ๐ฆ ีีฃีฟีกีฃีธึีฎีพีกีฎ ิณึีกีคีกึีกีถีถีฅึ

```
pandas>=2.0.0          # ีีพีตีกีฌีถีฅึีซ ีดีทีกีฏีธึีด
numpy>=1.24.0          # ินีพีกีตีซีถ ีฐีกีทีพีกึีฏีถีฅึ
matplotlib>=3.7.0      # ีีซีฆีธึีกีฌีซีฆีกึีซีก
seaborn>=0.12.0        # ีีซีฆีธึีกีฌีซีฆีกึีซีก
scikit-learn>=1.3.0    # Machine Learning
joblib>=1.3.0          # ีีธีคีฅีฌีซ ีบีกีฐีบีกีถีธึีด/ีขีฅีผีถีธึีด
```

## ๐ ีีกีณีกีญ ีีกีถีคีซีบีธีฒ ิฝีถีคีซึีถีฅึ

### ิฝีถีคีซึ 1: `AttributeError: module 'names' has no attribute 'DATA_NEW_FILE_PATH'`
**ิผีธึีฎีธึีด:** ีีฅึีฝีฟีธึีฃีฅึ, ีธึ `names.py` ึีกีตีฌีธึีด ีฏีก `DATA_NEW_FILE_PATH` ีฐีกีฝีฟีกีฟีธึีถีจึ

### ิฝีถีคีซึ 2: `FileNotFoundError: Model or Scaler not found`
**ิผีธึีฎีธึีด:** ีีกีญ ีฃีธึีฎีกึีฏีฅึ `train()` ึีธึีถีฏึีซีกีถี ีดีธีคีฅีฌีจ ีธึีฝีธึึีกีถีฅีฌีธึ ีฐีกีดีกึึ

### ิฝีถีคีซึ 3: `UserWarning: X does not have valid feature names`
**ิผีธึีฎีธึีด:** ีีก ีฆีฃีธึีทีกึีธึีด ีง, ีธีน ีฝีญีกีฌึ ีีธีคีฅีฌีจ ีฏีฏีกีฟีกึีซ ีฏีกีถีญีกีฟีฅีฝีธึีดีจ, ีขีกีตึ ีกีพีฅีฌีซ ีฌีกีพ ีง ีพีฅึีฝีฟีธึีฃีฅีฌ, ีธึ ีฟีพีตีกีฌีถีฅึีซ ีฝีตีธึีถีถีฅึีจ ีฐีกีดีกีบีกีฟีกีฝีญีกีถีธึีด ีฅีถ ีธึีฝีธึึีดีกีถ ีฟีพีตีกีฌีถีฅึีซีถึ

### ิฝีถีคีซึ 4: ีีพีตีกีฌีถีฅึีซ ีฝีตีธึีถีฅึีจ ีนีฅีถ ีฐีกีดีกีบีกีฟีกีฝีญีกีถีธึีด
**ิผีธึีฎีธึีด:** ีีฅึีฝีฟีธึีฃีฅึ, ีธึ `new_data.csv` ึีกีตีฌีจ ีบีกึีธึีถีกีฏีธึีด ีง ีถีธึีตีถ ีฝีตีธึีถีถีฅึีจ, ีซีถีน `visits.csv`-ีจ (ีขีกึีซ `is_bot`-ีซึ)ึ

## ๐ ีีฅีฟีกีฃีก ิถีกึีฃีกึีธึีดีถีฅึ

- [ ] ิฑีพีฅีฌีกึีถีฅีฌ Cross-Validation
- [ ] ีีธึีฑีฅีฌ ีกีตีฌ ีดีธีคีฅีฌีถีฅึ (XGBoost, LightGBM)
- [ ] ิฑีพีฅีฌีกึีถีฅีฌ Hyperparameter Tuning
- [ ] ีีฟีฅีฒีฎีฅีฌ Web Interface ีฏีกีถีญีกีฟีฅีฝีธึีดีถีฅึีซ ีฐีกีดีกึ
- [ ] ิฑีพีฅีฌีกึีถีฅีฌ Real-time ีฏีกีถีญีกีฟีฅีฝีธึีดีถีฅึ
- [ ] ิฒีกึีฅีฌีกีพีฅีฌ Feature Engineering

## ๐ ิผีซึีฅีถีฆีซีก

ิฑีตีฝ ีถีกีญีกีฃีซีฎีจ ีขีกึ ีฏีธีคีธีพ ีง ึ ีฐีกีฝีกีถีฅีฌีซ ีง ีขีธีฌีธึีซีถึ

## ๐จโ๐ป ีีฅีฒีซีถีกีฏ

Karen - ML Bot Detection Project

---

**ีีกึึีฅึ ีฏีกีด ีกีผีกีปีกึีฏีธึีฉีตีธึีถีถีฅึ?** ิฒีกึีฅึ Issue ีฏีกีด Pull Request! ๐